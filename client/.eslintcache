[{"/Users/jordanclemons/Documents/preferify/client/src/index.js":"1","/Users/jordanclemons/Documents/preferify/client/src/reportWebVitals.js":"2","/Users/jordanclemons/Documents/preferify/client/src/App.js":"3","/Users/jordanclemons/Documents/preferify/client/src/components/container.js":"4","/Users/jordanclemons/Documents/preferify/client/src/components/welcomepage/welcomepage.js":"5","/Users/jordanclemons/Documents/preferify/client/src/components/musicpage/musicpage.js":"6","/Users/jordanclemons/Documents/preferify/client/src/components/musicpage/playlistbubble.js":"7","/Users/jordanclemons/Documents/preferify/client/src/components/musicpage/song.js":"8","/Users/jordanclemons/Documents/preferify/client/src/components/musicpage/songdetail.js":"9"},{"size":500,"mtime":1611797115790,"results":"10","hashOfConfig":"11"},{"size":362,"mtime":1611797115790,"results":"12","hashOfConfig":"11"},{"size":224,"mtime":1611797115772,"results":"13","hashOfConfig":"11"},{"size":501,"mtime":1611797115773,"results":"14","hashOfConfig":"11"},{"size":2882,"mtime":1611812386833,"results":"15","hashOfConfig":"11"},{"size":7772,"mtime":1611797115789,"results":"16","hashOfConfig":"11"},{"size":2124,"mtime":1611797115789,"results":"17","hashOfConfig":"11"},{"size":607,"mtime":1611797115789,"results":"18","hashOfConfig":"11"},{"size":804,"mtime":1611797115789,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"d5zfsc",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"22"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"32","messages":"33","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"22"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"22"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"22"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"22"},"/Users/jordanclemons/Documents/preferify/client/src/index.js",[],["44","45"],"/Users/jordanclemons/Documents/preferify/client/src/reportWebVitals.js",[],"/Users/jordanclemons/Documents/preferify/client/src/App.js",[],"/Users/jordanclemons/Documents/preferify/client/src/components/container.js",["46","47"],"import React from 'react';\nimport {BrowserRouter as Router, Route, Switch, Link, Redirect} from \"react-router-dom\";\n\n//Components\nimport WelcomePage from './welcomepage/welcomepage';\nimport MusicPage from './musicpage/musicpage';\n\nfunction Container() {\n  return (\n    <Router>\n        \n          <Switch>\n            <Route path=\"/\" exact component={WelcomePage}/>\n            <Route path =\"/music\" exact component={MusicPage}/>\n          </Switch>\n        </Router>\n  );\n}\n\nexport default Container;","/Users/jordanclemons/Documents/preferify/client/src/components/welcomepage/welcomepage.js",["48","49","50","51","52","53","54","55"],"/Users/jordanclemons/Documents/preferify/client/src/components/musicpage/musicpage.js",["56","57","58","59","60","61","62","63","64","65","66","67","68","69"],"import React, { useEffect, useRef, useState } from 'react';\nimport queryString from 'query-string';\nimport {BrowserRouter as Router, Route, Switch, Link, Redirect} from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCircleNotch, faCompactDisc} from '@fortawesome/free-solid-svg-icons'\nimport Typed from 'react-typed';\nimport Song from './song.js';\nimport SongDetail from './songdetail.js';\nimport PlaylistBubble from './playlistbubble.js';\nimport git from '../images/github-logo.png';\nimport './musicpage.css';\n\n\n\nfunction MusicPage() {\n\n  var token = queryString.parse(window.location.search).access_token;\n  const [songs, setSongs] = useState([]);\n  const [time, setTime] = useState(\"short_term\");\n  const [limit, setLimit] = useState();\n  const [load, setLoad] = useState(false);\n  const [modal, setModal] = useState(false);\n  const [selectedSong, setSelectedSong] = useState();\n  const [playlistModal, setPlaylistModal] = useState(false);\n  const [playlistname, setPlaylistname] = useState(\"\");\n  const [songURI, setSongURI] = useState([]);\n  const [playlistURL, setPlaylistURL] = useState(\"\");\n  const [finishplaylist, setFinishplaylist] = useState(false);\n  const [playlistImages, setPlaylistImages] = useState([]);\n\n  const [shortTerm, setShortTerm] = useState([]);\n  const [mediumTerm, setMediumTerm] = useState([]);\n  const [longTerm, setLongTerm] = useState([]);\n\n  const node = useRef();\n  const node2 = useRef();\n\n\n  const getSongs = () =>{\n    setLoad(true);\n    fetch('https://api.spotify.com/v1/me/top/tracks?time_range=short_term&limit=50',{\n    headers: {'Authorization': 'Bearer ' + token}\n    }).then(response => response.json())\n    .then(data => setShortTerm(data.items))\n    fetch('https://api.spotify.com/v1/me/top/tracks?time_range=medium_term&limit=50',{\n    headers: {'Authorization': 'Bearer ' + token}\n    }).then(response => response.json())\n    .then(data => setMediumTerm(data.items))\n    fetch('https://api.spotify.com/v1/me/top/tracks?time_range=long_term&limit=50',{\n    headers: {'Authorization': 'Bearer ' + token}\n    }).then(response => response.json())\n    .then(data => setLongTerm(data.items))\n    setTimeout(() => setLoad(false), 500);\n}\n\nconst savePlaylist = (playlistName) =>{\n  fetch('https://api.spotify.com/v1/me',{\n    headers: {'Authorization': 'Bearer ' + token}\n  }).then(response => response.json())\n  .then((data) => {\n    var userID = data.id;\n    fetch(`https://api.spotify.com/v1/users/${userID}/playlists`, {\n      method: 'POST',\n      headers: {'Authorization': 'Bearer ' + token},\n      body: JSON.stringify({name: playlistName})\n    }).then(response => response.json())\n    .then((data) => {\n      setPlaylistURL(data.external_urls.spotify);\n      var playlistID = data.id;\n      fetch(`https://api.spotify.com/v1/users/${userID}/playlists/${playlistID}/tracks`, {\n        method: 'POST', \n        headers: {'Authorization': 'Bearer ' + token},\n        body: JSON.stringify({uris: songURI})\n      }).then((setFinishplaylist(true)))\n    })\n  })\n}\n\n/* Functions */\n\nconst handleLimit = e =>{\n  setLimit(e.target.value);\n}\n\nconst handleTerm = e =>{\n  setTime(e.target.value);\n}\n\nconst modalOn = (song) => {\n  setModal(!modal);\n  setSelectedSong(song);\n}\n\nconst playlistModalOn = () =>{\n  setPlaylistModal(!playlistModal);\n}\n\nconst closeModal = e => {\n  if (node.current.contains(e.target) || node2.current.contains(e.target)){\n    // inside click\n    return;\n  }\n  // outside click\n  setModal(false);\n  setSelectedSong();\n  setPlaylistModal(false);\n  setPlaylistname(\"\");\n  setPlaylistURL(\"\");\n  setFinishplaylist(false);\n};\n\n/* UseEffect renders */\n\n  useEffect(() =>{\n    getSongs();\n    console.log(\"test\");\n  }, []);\n\n  useEffect(() =>{\n    if(shortTerm !== undefined){\n      if(shortTerm.length > 0 && shortTerm !== undefined){\n        setSongs(shortTerm);\n        setLimit(10);\n      }\n    }\n  }, [shortTerm]);\n\n  useEffect(() =>{\n    if(time === \"short_term\"){\n      var newSongs =shortTerm.slice(0, limit);\n      setSongs(newSongs);\n    }\n    else if(time === \"medium_term\"){\n      var newSongs = mediumTerm.slice(0, limit);\n      setSongs(newSongs);\n    }\n    else if(time === \"long_term\"){\n      var newSongs = longTerm.slice(0, limit);\n      setSongs(newSongs);\n    }\n  }, [limit]);\n\n  useEffect(() =>{\n    if(time === \"short_term\"){\n      var newSongs =shortTerm.slice(0, limit);\n      setSongs(newSongs);\n    }\n    else if(time === \"medium_term\"){\n      var newSongs =mediumTerm.slice(0, limit);\n      setSongs(newSongs);\n    }\n    else if(time === \"long_term\"){\n      var newSongs = longTerm.slice(0, limit);\n      setSongs(newSongs);\n    }\n  }, [time]);\n\n  useEffect(() => {\n      setSongURI(songs.map(song => song.uri))\n      /* Generating playlist image */\n      if(songs.length > 0){\n        var images = [];\n        for(var x = 0; x < 4; x++){\n          images.push(songs[x].album.images[0].url);\n        }\n        setPlaylistImages(images);\n      }\n  }, [songs]);\n\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", closeModal);\n\n    return () => {\n      document.removeEventListener(\"mousedown\", closeModal);\n    };\n  }, []);\n\n  /* Returns */\n\n  if(token == null){\n    return(\n      <Redirect to=\"/\"></Redirect>  //If not logged in go back to login\n    )\n  }\n\n  if(shortTerm === undefined){\n    return(\n      <Redirect to=\"/\"></Redirect>  //If not logged in go back to login\n    )\n  }\n\n  return (\n    <div>\n      <div className=\"music-container\">\n        <div className =\"music-input-container\">\n          <h1 className=\"music-top-header\">Your top songs</h1>\n          <div className=\"select-container\">\n            <select className=\"dropdown\" onChange={handleLimit}>\n              <option value=\"10\">10 songs</option>\n              <option value=\"25\">25 songs</option>\n              <option value=\"50\">50 songs</option>\n            </select>\n            <select className=\"dropdown\" onChange={handleTerm}>\n              <option value=\"short_term\">1 month</option>\n              <option value=\"medium_term\">6 months</option>\n              <option value=\"long_term\">all time</option>\n            </select>\n          </div>\n          \n        </div>\n        <div className=\"songs-container\">\n          {songs.map((song) =>\n            <Song song={song} onClick={modalOn}></Song>\n          )}\n        </div>\n        <div className=\"git-info\">\n                <a className=\"git-creator\" href={\"mailto:\" + \"devbyjordan@gmail.com\"}>Created by Jordan Clemons</a>\n                <a href=\"https://github.com/JordanClemons/preferify-react\" target=\"_blank\"><img src= {git} className=\"logo\"/></a>\n        </div>\n        <div className='music-header'>\n            <Typed\n                    strings={['Preferify']}\n                    typeSpeed={40}\n                    />\n          </div>\n      </div>\n      <div className=\"playlist-button\"><div className=\"button-flex\" onClick={() => playlistModalOn()}><FontAwesomeIcon icon={faCompactDisc} size=\"3x\" className=\"playlist-icon\"/> <div className=\"playlist-button-text\">Playlist</div></div></div>\n      <div className={`modal-background modalvisible-${modal}`}>\n        <div ref={node}><SongDetail song={selectedSong} ></SongDetail></div>\n      </div>\n      <div className={`visible-${load}`}><div className=\"spinner\"><FontAwesomeIcon icon={faCircleNotch} class=\"fa-spin\"/>Loading</div></div>\n      <div className={`modal-background modalvisible-${playlistModal}`}>\n        <div ref={node2}><PlaylistBubble limit={limit} time={time} savePlaylist={savePlaylist} playlistname={playlistname} setPlaylistname={setPlaylistname} finishPlaylist={finishplaylist} playlistURL={playlistURL} playlistImages={playlistImages}></PlaylistBubble></div>\n      </div>\n    </div>\n  );\n}\n\nexport default MusicPage;","/Users/jordanclemons/Documents/preferify/client/src/components/musicpage/playlistbubble.js",["70","71","72","73","74"],"import React, {useState, useEffect} from 'react';\nimport './playlistbubble.css';\n\nfunction PlaylistBubble({limit, time, savePlaylist, playlistname, setPlaylistname, finishPlaylist, playlistURL, playlistImages}) {\n\n    const [timespan, setTimespan] = useState();\n    const [number, setNumber] = useState(\"10\");\n    const [submitPlaylistName, setSubmitPlaylistName] = useState(\"\");\n\n    const changePlaylistName = e =>{\n        if(e.target.value.length <= 200){\n            setPlaylistname(e.target.value);\n        }\n    }\n\n    const checkPlaylistName = () =>{\n        if(playlistname === \"\"){\n            setSubmitPlaylistName(\"Preferify top songs \" + timespan);\n        }\n        else{setSubmitPlaylistName(playlistname);}\n    }\n\n\n    useEffect(() =>{\n        if(time === \"short_term\"){\n            setTimespan(\"of the month\")\n        }\n        else if(time ===\"medium_term\"){\n            setTimespan(\"of 6 months\");\n        }\n        else if(time === \"long_term\"){\n            setTimespan(\"of all time\");\n        }\n      }, [time]);\n\n    useEffect(() =>{\n        if(submitPlaylistName.length > 0){\n            savePlaylist(submitPlaylistName);\n        }\n    }, [submitPlaylistName]);\n\n  return (\n    <div className=\"playlistbubble-container\">\n        <div className={`playlist-flexbox-${finishPlaylist}`}>\n            <p1 className=\"playlist-title\">Playlist Title</p1>\n            <input className=\"playlist-input\" type=\"text\" placeholder={`Preferify top songs ${timespan}`} onChange={e => changePlaylistName(e)} value={playlistname}></input>\n            <button className=\"playlistbubble-button\" onClick={() => checkPlaylistName()}>Make Playlist</button>\n        </div>\n        <div className={`playlistdone-flexbox-${finishPlaylist}`}>\n            <p1>Playlist created!</p1>\n            <div className=\"images-flex\">\n            {playlistImages.map((image) =>\n                <img className=\"playlist-image\" src={image}></img>\n            )}\n            </div>\n            <a href={playlistURL} target=\"_blank\" className=\"playlist-link\">Open in Spotify</a>\n        </div>\n    </div>\n  );\n}\n\nexport default PlaylistBubble;","/Users/jordanclemons/Documents/preferify/client/src/components/musicpage/song.js",["75"],"import React, {useEffect} from 'react';\nimport './song.css';\nimport Aos from 'aos';\nimport \"aos/dist/aos.css\";\n\n\nfunction Song({song, onClick}) {\n\n    useEffect(() => {\n        Aos.init({duration: 1000, offset:20});\n    }, []);\n\n  return (\n    <div className=\"song-bubble\" data-aos=\"fade-up\" onClick={() => onClick(song)}>\n      <img className=\"album-art\" src={song.album.images[0].url}></img>\n      <div className =\"song-info-container\">\n        <p1 className=\"song-title\">{song.name}</p1>\n        <p1 className=\"song-artist\">{song.artists[0].name}</p1>\n      </div>\n    </div>\n  );\n}\n\nexport default Song;","/Users/jordanclemons/Documents/preferify/client/src/components/musicpage/songdetail.js",["76","77"],"import React from 'react';\nimport './songdetail.css';\n\nfunction SongDetail({song}) {\n\n    if(song !== undefined){\n        return (\n            <div className=\"modal-rectangle-detail\">\n                <div className=\"songdetail-flexbox\">\n                    <div className=\"song-details\">\n                        <img className=\"album-art-detail\" src={song.album.images[0].url}></img>\n                    </div>\n                    <div className=\"song-name-artist-detail\">\n                        <div>{song.name}</div>\n                        <div ><a href={song.external_urls.spotify} target=\"_blank\" className=\"spotify-link\">Open in Spotify</a></div>\n                    </div>\n                </div>\n            </div>\n  );\n    }\n\n    return(\n        <div></div>\n    );\n}\n\n\nexport default SongDetail;",{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","severity":1,"message":"83","line":2,"column":49,"nodeType":"84","messageId":"85","endLine":2,"endColumn":53},{"ruleId":"82","severity":1,"message":"86","line":2,"column":55,"nodeType":"84","messageId":"85","endLine":2,"endColumn":63},{"ruleId":"82","severity":1,"message":"87","line":6,"column":9,"nodeType":"84","messageId":"85","endLine":6,"endColumn":20},{"ruleId":"82","severity":1,"message":"88","line":17,"column":11,"nodeType":"84","messageId":"85","endLine":17,"endColumn":24},{"ruleId":"89","severity":1,"message":"90","line":40,"column":21,"nodeType":"91","endLine":40,"endColumn":70},{"ruleId":"89","severity":1,"message":"90","line":47,"column":21,"nodeType":"91","endLine":47,"endColumn":60},{"ruleId":"89","severity":1,"message":"90","line":52,"column":21,"nodeType":"91","endLine":52,"endColumn":59},{"ruleId":"92","severity":1,"message":"93","line":56,"column":56,"nodeType":"94","messageId":"95","endLine":56,"endColumn":57},{"ruleId":"96","severity":1,"message":"97","line":57,"column":17,"nodeType":"91","endLine":57,"endColumn":92},{"ruleId":"89","severity":1,"message":"90","line":57,"column":92,"nodeType":"91","endLine":57,"endColumn":130},{"ruleId":"82","severity":1,"message":"98","line":3,"column":26,"nodeType":"84","messageId":"85","endLine":3,"endColumn":32},{"ruleId":"82","severity":1,"message":"99","line":3,"column":34,"nodeType":"84","messageId":"85","endLine":3,"endColumn":39},{"ruleId":"82","severity":1,"message":"100","line":3,"column":41,"nodeType":"84","messageId":"85","endLine":3,"endColumn":47},{"ruleId":"82","severity":1,"message":"83","line":3,"column":49,"nodeType":"84","messageId":"85","endLine":3,"endColumn":53},{"ruleId":"101","severity":1,"message":"102","line":117,"column":6,"nodeType":"103","endLine":117,"endColumn":8,"suggestions":"104"},{"ruleId":"105","severity":1,"message":"106","line":134,"column":11,"nodeType":"84","messageId":"107","endLine":134,"endColumn":19},{"ruleId":"105","severity":1,"message":"106","line":138,"column":11,"nodeType":"84","messageId":"107","endLine":138,"endColumn":19},{"ruleId":"101","severity":1,"message":"108","line":141,"column":6,"nodeType":"103","endLine":141,"endColumn":13,"suggestions":"109"},{"ruleId":"105","severity":1,"message":"106","line":149,"column":11,"nodeType":"84","messageId":"107","endLine":149,"endColumn":19},{"ruleId":"105","severity":1,"message":"106","line":153,"column":11,"nodeType":"84","messageId":"107","endLine":153,"endColumn":19},{"ruleId":"101","severity":1,"message":"110","line":156,"column":6,"nodeType":"103","endLine":156,"endColumn":12,"suggestions":"111"},{"ruleId":"92","severity":1,"message":"93","line":217,"column":60,"nodeType":"94","messageId":"95","endLine":217,"endColumn":61},{"ruleId":"96","severity":1,"message":"97","line":218,"column":17,"nodeType":"91","endLine":218,"endColumn":92},{"ruleId":"89","severity":1,"message":"90","line":218,"column":92,"nodeType":"91","endLine":218,"endColumn":126},{"ruleId":"82","severity":1,"message":"112","line":7,"column":12,"nodeType":"84","messageId":"85","endLine":7,"endColumn":18},{"ruleId":"82","severity":1,"message":"113","line":7,"column":20,"nodeType":"84","messageId":"85","endLine":7,"endColumn":29},{"ruleId":"101","severity":1,"message":"114","line":40,"column":8,"nodeType":"103","endLine":40,"endColumn":28,"suggestions":"115"},{"ruleId":"89","severity":1,"message":"90","line":53,"column":17,"nodeType":"91","endLine":53,"endColumn":61},{"ruleId":"96","severity":1,"message":"97","line":56,"column":13,"nodeType":"91","endLine":56,"endColumn":77},{"ruleId":"89","severity":1,"message":"90","line":15,"column":7,"nodeType":"91","endLine":15,"endColumn":65},{"ruleId":"89","severity":1,"message":"90","line":11,"column":25,"nodeType":"91","endLine":11,"endColumn":90},{"ruleId":"96","severity":1,"message":"97","line":15,"column":31,"nodeType":"91","endLine":15,"endColumn":109},"no-native-reassign",["116"],"no-negated-in-lhs",["117"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'Redirect' is defined but never used.","'Placeholder' is defined but never used.","'DEVOPMENTLINK' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","'Router' is defined but never used.","'Route' is defined but never used.","'Switch' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getSongs'. Either include it or remove the dependency array.","ArrayExpression",["118"],"no-redeclare","'newSongs' is already defined.","redeclared","React Hook useEffect has missing dependencies: 'longTerm', 'mediumTerm', 'shortTerm', and 'time'. Either include them or remove the dependency array.",["119"],"React Hook useEffect has missing dependencies: 'limit', 'longTerm', 'mediumTerm', and 'shortTerm'. Either include them or remove the dependency array.",["120"],"'number' is assigned a value but never used.","'setNumber' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'savePlaylist'. Either include it or remove the dependency array. If 'savePlaylist' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["121"],"no-global-assign","no-unsafe-negation",{"desc":"122","fix":"123"},{"desc":"124","fix":"125"},{"desc":"124","fix":"126"},{"desc":"127","fix":"128"},"Update the dependencies array to be: [getSongs]",{"range":"129","text":"130"},"Update the dependencies array to be: [limit, longTerm, mediumTerm, shortTerm, time]",{"range":"131","text":"132"},{"range":"133","text":"132"},"Update the dependencies array to be: [savePlaylist, submitPlaylistName]",{"range":"134","text":"135"},[3723,3725],"[getSongs]",[4291,4298],"[limit, longTerm, mediumTerm, shortTerm, time]",[4667,4673],[1162,1182],"[savePlaylist, submitPlaylistName]"]